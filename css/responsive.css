/* =========================
   responsive.css (REMPLACE TON responsive.css PAR CELUI-CI)
   ========================= */

/* Global safety: prevent accidental horizontal scroll on mobile */
html,
body {
  overflow-x: hidden;
}

/* Utility: wrap rows nicely on small screens */
.wrap {
  flex-wrap: wrap;
}

/* ---------------------------------
   <= 1024px (tablets / small laptops)
   --------------------------------- */
@media (max-width: 1024px) {
  .container {
    padding-left: 18px;
    padding-right: 18px;
  }

  /* Slightly tighter spacing */
  .grid {
    gap: 14px;
  }
}

/* ---------------------------------
   <= 900px (tablet portrait)
   Make app 1 column earlier
   --------------------------------- */
@media (max-width: 900px) {
  /* App layout becomes single column */
  .app {
    grid-template-columns: 1fr !important;
  }

  .sidebar {
    position: relative;
    top: auto;
    max-height: none;
  }
}

/* ---------------------------------
   <= 640px (phones)
   Main mobile polish
   --------------------------------- */
@media (max-width: 640px) {
  :root {
    --gutter: 16px;
  }

  .container {
    padding-left: 14px;
    padding-right: 14px;
  }

  /* Touch-friendly controls */
  .btn,
  .input,
  .select,
  .textarea {
    min-height: 44px;
  }

  .btn-lg {
    min-height: 50px;
  }

  /* Reduce big paddings on cards */
  .card {
    padding: 14px;
    border-radius: 18px;
  }

  /* Make rows stack more naturally */
  .row.spread {
    gap: 10px;
    align-items: flex-start;
  }

  /* Ensure form controls full width in rows */
  .row .btn,
  .row .input,
  .row .select,
  .row .textarea {
    width: 100%;
  }

  /* -----------------------
     12-col inline grids stack
     (Your HTML uses inline grid-column spans)
     ----------------------- */
  /* If a section uses 12-col grid inline, force 1 col on mobile */
  .grid[style*="repeat(12"] {
    grid-template-columns: 1fr !important;
  }

  /* Force inline spans (span 6 -> full width) */
  [style*="grid-column: span 6"],
  [style*="grid-column:span 6"],
  [style*="grid-column: span6"],
  [style*="grid-column:span6"] {
    grid-column: 1 / -1 !important;
  }

  /* Keep 12 span full width */
  [style*="grid-column: span 12"],
  [style*="grid-column:span 12"] {
    grid-column: 1 / -1 !important;
  }

  /* -----------------------
     Navbar (general)
     ----------------------- */
  .nav-inner {
    gap: 10px;
    flex-wrap: wrap;
  }

  /* If nav links are visible (desktop), wrap */
  .nav-links {
    width: 100%;
    justify-content: flex-start;
    flex-wrap: wrap;
    gap: 10px;
  }

  /* Optional: primary CTA full width in nav */
  .nav-links .btn-primary {
    width: 100%;
  }

  /* -----------------------
     APP: Sidebar becomes horizontal scroll (app-like)
     ----------------------- */
  .app {
    gap: 12px;
  }

  .sidebar {
    /* turn sidebar into horizontal pills bar */
    display: flex;
    align-items: center;
    gap: 10px;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding: 10px;

    position: relative;
    top: auto;
    max-height: none;
  }

  .side-title {
    display: none;
  }

  .sidebar .hr {
    display: none;
  }

  .side-item {
    flex: 0 0 auto;
    white-space: nowrap;
    padding: 10px 12px;
    border-radius: 999px;
    border: 1px solid var(--stroke);
    background: var(--chip);
  }

  .side-item.active {
    border-color: rgba(109, 94, 252, 0.45);
  }

  /* Compact plan card stays compact in horizontal bar */
  .sidebar .card.compact {
    flex: 0 0 auto;
    white-space: nowrap;
    padding: 10px 12px;
    border-radius: 16px;
  }

  .content {
    min-width: 0;
    gap: 12px;
  }

  /* Toast not too wide */
  .toast .card {
    width: min(520px, calc(100vw - 24px));
  }
}

/* ---------------------------------
   <= 360px (very small phones)
   --------------------------------- */
@media (max-width: 360px) {
  .h1 {
    font-size: 1.8rem;
  }

  .nav-links .nav-link {
    padding: 8px 10px;
  }

  .sidebar {
    padding: 8px;
  }

  .side-item {
    padding: 9px 11px;
  }
}

/* =========================================================
   MOBILE HAMBURGER (Landing / index.html)
   Animated burger + overlay + menu card background
   ========================================================= */

/* Hidden by default (desktop) */
.nav-burger {
  display: none;
}

/* Burger icon base */
.burger {
  width: 20px;
  height: 2px;
  display: inline-block;
  background: currentColor;
  position: relative;
  border-radius: 999px;
  transition: background var(--dur) var(--ease), transform var(--dur) var(--ease);
}

.burger::before,
.burger::after {
  content: "";
  position: absolute;
  left: 0;
  width: 20px;
  height: 2px;
  background: currentColor;
  border-radius: 999px;
  transition: transform var(--dur) var(--ease), top var(--dur) var(--ease), opacity var(--dur) var(--ease);
}

.burger::before {
  top: -6px;
}

.burger::after {
  top: 6px;
}

/* Open state -> X */
.nav-burger.is-open .burger {
  background: transparent;
}

.nav-burger.is-open .burger::before {
  top: 0;
  transform: rotate(45deg);
}

.nav-burger.is-open .burger::after {
  top: 0;
  transform: rotate(-45deg);
}

/* Overlay */
.mobile-overlay {
  position: fixed;
  inset: 0;
  z-index: 55;
  background: rgba(0, 0, 0, 0.55);
  backdrop-filter: blur(6px);
  opacity: 0;
  transition: opacity var(--dur) var(--ease);
}

.mobile-overlay.show {
  opacity: 1;
}

/* Mobile menu container */
.mobile-menu {
  position: fixed;
  top: 68px; /* navbar height area */
  left: 0;
  right: 0;
  z-index: 60;
  padding: 12px 0 0;
  transform: translateY(-10px);
  opacity: 0;
  transition: transform var(--dur) var(--ease), opacity var(--dur) var(--ease);
}

.mobile-menu.show {
  transform: translateY(0);
  opacity: 1;
}

.mobile-menu-inner {
  padding: 12px;
  display: grid;
  gap: 10px;
}

/* On phones: hide normal nav links and show burger */
@media (max-width: 640px) {
  /* Hide desktop nav links for landing pages that use hamburger */
  .nav-links {
    display: none;
  }

  .nav-burger {
    display: inline-flex;
  }

  /* âœ… Make menu visually distinct (opaque background) */
  .mobile-menu-inner {
    background: var(--bg2);
    border: 1px solid var(--stroke);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.45);
    border-radius: 18px;
  }

  /* Mobile menu links look nice */
  .mobile-menu .side-item {
    border-radius: 14px;
    padding: 12px 12px;
  }

  /* Lock scroll when menu open (if JS toggles .menu-open) */
  body.menu-open {
    overflow: hidden;
  }
}

/* On desktop: never show overlay/menu even if toggled */
@media (min-width: 641px) {
  .mobile-overlay,
  .mobile-menu {
    display: none !important;
  }
}
