/* =========================
   responsive.css
   Breakpoints + Mobile tweaks
   ========================= */

/* Mobile-first: base styles already in main.css */

/* ---------- Small phones (<= 360px) ---------- */
@media (max-width: 360px) {
  :root {
    --gutter: 16px;
  }

  .btn {
    padding: 10px 12px;
  }

  .card {
    padding: 16px;
  }
}

/* ---------- Phones / small tablets (<= 640px) ---------- */
@media (max-width: 640px) {
  .section {
    padding: 34px 0;
  }

  .nav-inner {
    padding: 12px 0;
  }

  .nav-links {
    gap: 8px;
  }

  .nav-link {
    padding: 9px 10px;
    border-radius: 12px;
  }

  .hero {
    padding: 34px 0;
  }

  .hero-card {
    padding: 18px;
  }

  /* App layout becomes single column */
  .app {
    grid-template-columns: 1fr;
    padding: 12px 0 22px;
  }

  .sidebar {
    position: relative;
    top: auto;
    max-height: none;
  }

  .content {
    gap: 12px;
  }

  /* Buttons full width where needed */
  .cta-row {
    flex-direction: column;
    align-items: stretch;
  }

  .cta-row .btn {
    width: 100%;
  }

  /* Table becomes scrollable */
  .table-wrap {
    overflow-x: auto;
    border-radius: var(--radius-lg);
  }

  .table {
    min-width: 640px;
  }
}

/* ---------- Tablets (<= 900px) ---------- */
@media (max-width: 900px) {
  :root {
    --container: 980px;
  }

  /* Slightly tighter spacing */
  .card {
    padding: 16px;
  }

  .app {
    grid-template-columns: 240px 1fr;
    gap: 14px;
  }

  .sidebar {
    padding: 12px;
  }

  .side-item {
    padding: 9px 10px;
  }
}

/* ---------- Small laptops (<= 1100px) ---------- */
@media (max-width: 1100px) {
  :root {
    --container: 980px;
  }
}

/* ---------- Large screens (>= 1300px) ---------- */
@media (min-width: 1300px) {
  :root {
    --container: 1180px;
  }

  .app {
    grid-template-columns: 300px 1fr;
  }
}

/* ---------- Super wide (>= 1600px) ---------- */
@media (min-width: 1600px) {
  :root {
    --container: 1240px;
  }

  .hero {
    padding: 54px 0;
  }
}

/* =========================
   Mobile polish patch
   Ajoute ceci en bas de responsive.css
   ========================= */

/* Prevent horizontal scroll due to long content */
html,
body {
  overflow-x: hidden;
}

/* ---------- Phones / small tablets (<= 640px) ---------- */
@media (max-width: 640px) {
  /* Better touch spacing */
  :root {
    --gutter: 16px;
  }

  .btn,
  .input,
  .select,
  .textarea {
    min-height: 44px; /* thumb-friendly */
  }

  .btn-lg {
    min-height: 50px;
  }

  /* Navbar: wrap cleanly, avoid overflow */
  .nav-inner {
    gap: 10px;
    flex-wrap: wrap;
  }

  .nav-links {
    width: 100%;
    justify-content: flex-start;
    flex-wrap: wrap;
    gap: 10px;
  }

  /* Make primary CTA take full width when it exists in nav (optional) */
  .nav-links .btn-primary {
    width: 100%;
  }

  /* HERO: tighten */
  .hero-card {
    padding: 16px;
  }

  /* ----- IMPORTANT: force 12-col grid cards to stack ----- */
  /* Because your HTML uses inline styles like: style="grid-column: span 6" */
  [style*="grid-column: span 6"] {
    grid-column: span 12 !important;
  }

  /* Keep 12-span as is */
  [style*="grid-column: span 12"] {
    grid-column: span 12 !important;
  }

  /* If you have grids with 12 columns inline, ensure they behave */
  [style*="grid-template-columns: repeat(12"] {
    grid-template-columns: repeat(12, 1fr) !important;
  }

  /* Pricing cards / feature cards spacing */
  .card {
    border-radius: 18px;
  }

  /* Tables wrap helper */
  .table-wrap {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* ---------- APP: turn sidebar into horizontal scroll menu ---------- */
  .app {
    gap: 12px;
  }

  .sidebar {
    position: relative;
    top: auto;
    max-height: none;

    /* horizontal nav */
    display: flex;
    align-items: center;
    gap: 10px;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding: 10px;
  }

  /* Hide "Modules" title on mobile to save space */
  .side-title {
    display: none;
  }

  /* Make items chip-like and horizontal */
  .side-item {
    flex: 0 0 auto;
    white-space: nowrap;
    padding: 10px 12px;
    border-radius: 999px;
    border: 1px solid var(--stroke);
    background: var(--chip);
  }

  .side-item.active {
    border-color: rgba(109, 94, 252, 0.45);
  }

  /* Compact plan card in sidebar becomes a normal card below (optional) */
  .sidebar .card.compact {
    flex: 0 0 auto;
    white-space: nowrap;
    padding: 10px 12px;
    border-radius: 16px;
  }

  /* Content spacing */
  .content {
    gap: 12px;
  }

  /* Toast: ensure it's not too wide */
  .toast .card {
    width: min(520px, calc(100vw - 24px));
  }
}

/* ---------- Very small phones (<= 360px) ---------- */
@media (max-width: 360px) {
  .nav-links .nav-link {
    padding: 8px 10px;
  }

  .h1 {
    font-size: 1.8rem;
  }

  .sidebar {
    padding: 8px;
  }

  .side-item {
    padding: 9px 11px;
  }
}

/* =========================
   Mobile hamburger menu (landing)
   Add at bottom of responsive.css
   ========================= */

.nav-burger {
  display: none;
}

/* Burger icon */
.burger {
  width: 20px;
  height: 2px;
  display: inline-block;
  background: currentColor;
  position: relative;
  border-radius: 999px;
}
.burger::before,
.burger::after {
  content: "";
  position: absolute;
  left: 0;
  width: 20px;
  height: 2px;
  background: currentColor;
  border-radius: 999px;
}
.burger::before {
  top: -6px;
}
.burger::after {
  top: 6px;
}

/* Mobile menu container */
.mobile-menu {
  position: fixed;
  top: 68px; /* height of navbar area, ok with your current style */
  left: 0;
  right: 0;
  z-index: 60;
  padding: 12px 0 0;
}

.mobile-menu-inner {
  padding: 12px;
  display: grid;
  gap: 10px;
}

/* Mobile behavior */
@media (max-width: 640px) {
  /* Hide normal links on mobile */
  .nav-links {
    display: none;
  }

  /* Show burger */
  .nav-burger {
    display: inline-flex;
  }

  /* Make menu links look nice */
  .mobile-menu .side-item {
    border-radius: 14px;
    padding: 12px 12px;
  }
}

/* =========================
   Mobile hamburger animation + overlay
   Add at bottom of responsive.css
   ========================= */

.nav-burger {
  display: none;
}

/* Burger icon base */
.burger {
  width: 20px;
  height: 2px;
  display: inline-block;
  background: currentColor;
  position: relative;
  border-radius: 999px;
  transition: background var(--dur) var(--ease), transform var(--dur) var(--ease);
}

.burger::before,
.burger::after {
  content: "";
  position: absolute;
  left: 0;
  width: 20px;
  height: 2px;
  background: currentColor;
  border-radius: 999px;
  transition: transform var(--dur) var(--ease), top var(--dur) var(--ease), opacity var(--dur) var(--ease);
}

.burger::before {
  top: -6px;
}

.burger::after {
  top: 6px;
}

/* When open: turn into X */
.nav-burger.is-open .burger {
  background: transparent; /* hide middle line */
}

.nav-burger.is-open .burger::before {
  top: 0;
  transform: rotate(45deg);
}

.nav-burger.is-open .burger::after {
  top: 0;
  transform: rotate(-45deg);
}

/* Overlay */
.mobile-overlay {
  position: fixed;
  inset: 0;
  z-index: 55;
  background: rgba(0, 0, 0, 0.55);
  backdrop-filter: blur(6px);
  opacity: 0;
  transition: opacity var(--dur) var(--ease);
}

.mobile-overlay.show {
  opacity: 1;
}

/* Mobile menu container */
.mobile-menu {
  position: fixed;
  top: 68px;
  left: 0;
  right: 0;
  z-index: 60;
  padding: 12px 0 0;
  transform: translateY(-10px);
  opacity: 0;
  transition: transform var(--dur) var(--ease), opacity var(--dur) var(--ease);
}

.mobile-menu.show {
  transform: translateY(0);
  opacity: 1;
}

.mobile-menu-inner {
  padding: 12px;
  display: grid;
  gap: 10px;
}

/* Mobile behavior */
@media (max-width: 640px) {
  .nav-links {
    display: none;
  }

  .nav-burger {
    display: inline-flex;
  }

  .mobile-menu .side-item {
    border-radius: 14px;
    padding: 12px 12px;
  }
}

/* On desktop: keep overlay/menu hidden even if accidentally toggled */
@media (min-width: 641px) {
  .mobile-overlay,
  .mobile-menu {
    display: none !important;
  }
}
